# ── Monitors ───────────────────────────────────────────────────────────────────
monitor=,preferred,auto,1

# ── Input ─────────────────────────────────────────────────────────────────────
input {
  kb_layout = no
}

input:touchpad {
  natural_scroll = true
}

# ── Aesthetics ────────────────────────────────────────────────────────────────
general {
  gaps_in = 8
  gaps_out = 16
  border_size = 3
  col.active_border = rgba(2d6a8dff) rgba(e6b450ff) 45deg  # river→sunlight gradient
  col.inactive_border = rgba(55616dff)
  no_border_on_floating = false
  allow_tearing = false
}

decoration {
  rounding = 12

  blur {
    enabled = true
    size = 8
    passes = 2
    new_optimizations = true
    xray = true
  }

  shadow {
    enabled = true
    range = 18
    render_power = 2
    color = rgba(00000066)
  }
}

animations {
  enabled = yes
  bezier = ease, 0.20, 0.10, 0.20, 1.00
  animation = windows, 1, 4, ease
  animation = border, 1, 4, default
  animation = fade,   1, 4, ease
  animation = workspaces, 1, 6, ease
}

# ── Wallpaper (hyprpaper) ─────────────────────────────────────────────────────
exec-once = hyprpaper

# ── Autostart layer apps ──────────────────────────────────────────────────────
exec-once = waybar
exec-once = swaync
exec-once = hypridle
exec-once = wezterm-gui
exec-once = foot

# ── App rules (glass/blur/opacity) ────────────────────────────────────────────
# WezTerm class on Wayland: org.wezfurlong.wezterm
windowrulev2 = opacity 0.92, class:^(org\.wezfurlong\.wezterm)$
windowrulev2 = rounding 14,  class:^(org\.wezfurlong\.wezterm)$
# Make floating dialogs rounded too
windowrulev2 = rounding 12, floating:1

# Blur Waybar & SwayNC layers (and ignore zero-alpha bugs)
layerrule = blur, waybar
layerrule = ignorezero, waybar
layerrule = blur, notifications
layerrule = blur, swaync-control-center
layerrule = ignorezero, notifications
layerrule = ignorezero, swaync-control-center
layerrule = blur, wlogout
layerrule = ignorezero, wlogout

# ── Keybinds (arrow-key centric) ──────────────────────────────────────────────
$mainMod = SUPER

bind = $mainMod, F, exec, foot
bind = $mainMod, E, exec, wezterm

# Focus with arrows
bind = $mainMod, left,  movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up,    movefocus, u
bind = $mainMod, down,  movefocus, d

# Move windows with Shift+arrows
bind = $mainMod SHIFT, left,  movewindow, l
bind = $mainMod SHIFT, right, movewindow, r
bind = $mainMod SHIFT, up,    movewindow, u
bind = $mainMod SHIFT, down,  movewindow, d

# Resize with Ctrl+Shift+arrows
binde = $mainMod CTRL SHIFT, left,  resizeactive, -40 0
binde = $mainMod CTRL SHIFT, right, resizeactive,  40 0
binde = $mainMod CTRL SHIFT, up,    resizeactive,  0 -40
binde = $mainMod CTRL SHIFT, down,  resizeactive,  0  40

# Gaps quick adjust (optional)
bind = $mainMod, minus,  exec, hyprctl keyword general:gaps_in 4; hyprctl keyword general:gaps_out 8
bind = $mainMod, equal,  exec, hyprctl keyword general:gaps_in 8; hyprctl keyword general:gaps_out 16

# Launchers
bind = $mainMod, Enter, exec, wezterm
bind = $mainMod, D,      exec, wofi --show drun    # or any launcher you like
bind = $mainMod, P,      exec, wlogout -p layer-shell
bind = $mainMod, Q, killactive
bind = $mainMod, M, exit

# Screenshots
bind = , Print, exec, grim -g "$(slurp)" - | wl-copy

# Workspaces with numbers, move with Shift
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod SHIFT, 1, movetoworkspace, 1

# ── Idle & lock ───────────────────────────────────────────────────────────────
exec-once = hyprlock
